<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Quick Tick provides AI-powered stock analysis reports for 180+ publicly traded companies. Get comprehensive investment insights, buy ratings, fair value estimates, and competitive analysis updated quarterly.">
    <meta name="keywords" content="stock analysis, investment reports, AI stock analysis, buy ratings, fair value, stock research, investment research, financial analysis">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="author" content="Quick Tick">
    
    <!-- Open Graph tags -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Quick Tick">
    <meta property="og:title" content="Quick Tick - AI-Powered Stock Analysis & Investment Reports">
    <meta property="og:description" content="Comprehensive stock analysis for 180+ companies with AI-powered insights, buy ratings, and fair value estimates. Updated quarterly.">
    <meta property="og:url" content="https://quicktick.ai">
    
    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Quick Tick - AI-Powered Stock Analysis">
    <meta name="twitter:description" content="Comprehensive stock analysis for 180+ companies with AI-powered insights and buy ratings.">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    
    <title>Quick Tick - AI-Powered Stock Analysis & Investment Reports</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=DM+Serif+Display&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #131426;
            --bg-secondary: #1a1f3a;
            --bg-card: #1a1f3a;
            --text-primary: #e2e2e2;
            --text-secondary: #9ca3af;
            --accent-green: #00ffa3;
            --accent-cyan: #00d4ff;
            --accent-red: #ef4444;
            --border: #374151;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated background grid */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 163, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 163, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Glow orbs in background */
        body::after {
            content: '';
            position: fixed;
            top: -50%;
            right: -20%;
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(0, 255, 163, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 15s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(-100px, 100px) scale(1.1); }
        }

        .container {
            width: 100%;
            margin: 0 auto;
            padding: 20px 40px;
            position: relative;
            z-index: 1;
        }

        /* Top navigation in corner */
        .top-nav {
            position: absolute;
            top: 20px;
            right: 40px;
            display: flex;
            gap: 12px;
            z-index: 10;
            animation: fadeIn 1s ease-out;
        }

        header {
            text-align: center;
            padding: 40px 20px 30px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo-container {
            margin-bottom: 15px;
            animation: fadeIn 1s ease-out;
        }

        .logo {
            width: 350px;
            height: auto;
            filter: drop-shadow(0 5px 20px rgba(0, 255, 163, 0.3));
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .nav-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-cyan);
            text-decoration: none;
            font-size: 0.85rem;
            padding: 8px 16px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            font-weight: 700;
        }

        .nav-link:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.3);
        }

        .nav-link.patreon-link {
            background: linear-gradient(135deg, #ff424d, #ff5a63);
            color: white;
            border-color: #ff424d;
        }

        .nav-link.patreon-link:hover {
            border-color: #ff5a63;
            box-shadow: 0 5px 20px rgba(255, 66, 77, 0.5);
        }

        .nav-link.yolo-link {
            background: linear-gradient(135deg, var(--accent-green), #00cc82);
            color: var(--bg-primary);
            border-color: var(--accent-green);
            text-align: center;
            line-height: 1.2;
            padding: 6px 12px;
            min-width: 100px;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .nav-link.yolo-link:hover {
            border-color: var(--accent-green);
            box-shadow: 0 5px 20px rgba(0, 255, 163, 0.5);
            transform: translateY(-2px) scale(1.02);
        }

        .nav-link.yolo-link .yolo-text {
            display: block;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .nav-link.yolo-link .random-text {
            display: block;
            font-size: 0.55rem;
            font-weight: 600;
            opacity: 0.9;
            text-transform: none;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'DM Serif Display', serif;
            font-size: 4.5rem;
            font-weight: 400;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -2px;
            animation: glow 3s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(0, 255, 163, 0.4)); }
            50% { filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.6)); }
        }

        .subtitle {
            font-size: 0.95rem;
            color: var(--text-secondary);
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 8px;
            animation: fadeIn 1s ease-out 0.3s both;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .tagline {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-top: 10px;
            animation: fadeIn 1s ease-out 0.5s both;
        }

        .search-container {
            max-width: 600px;
            margin: 30px auto;
            position: relative;
            animation: fadeInUp 0.8s ease-out 0.4s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-wrapper {
            position: relative;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .search-wrapper:focus-within {
            border-color: var(--accent-green);
            box-shadow: 0 0 30px rgba(0, 255, 163, 0.2);
            transform: translateY(-2px);
        }

        #searchInput {
            width: 100%;
            padding: 24px 60px 24px 24px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.3rem;
            background: transparent;
            border: none;
            color: var(--text-primary);
            outline: none;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        #searchInput::placeholder {
            color: var(--text-secondary);
            opacity: 0.5;
        }

        .search-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .search-button:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 255, 163, 0.4);
        }

        .search-button svg {
            width: 20px;
            height: 20px;
            stroke: var(--bg-primary);
            stroke-width: 2.5;
        }

        .error-message {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 77, 109, 0.1);
            border: 1px solid var(--accent-red);
            border-radius: 10px;
            color: var(--accent-red);
            text-align: center;
            display: none;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .examples {
            text-align: center;
            margin-top: 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .examples-label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .ticker-row {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .example-ticker {
            display: inline-block;
            padding: 6px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--accent-cyan);
            font-weight: 700;
        }

        .example-ticker:hover {
            background: var(--bg-card);
            border-color: var(--accent-cyan);
            transform: translateY(-2px);
        }

        .info-section {
            margin-top: 50px;
            padding: 30px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            animation: fadeIn 1s ease-out 0.8s both;
        }

        .info-section h2 {
            font-family: 'DM Serif Display', serif;
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--accent-green);
        }

        .info-section p {
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature {
            padding: 25px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .feature:hover {
            border-color: var(--accent-green);
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 255, 163, 0.1);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .feature h3 {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--accent-cyan);
        }

        .feature p {
            font-size: 0.85rem;
            line-height: 1.6;
        }

        footer {
            text-align: center;
            padding: 60px 20px 40px;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 3rem;
            }

            .logo {
                width: 250px;
            }

            #searchInput {
                font-size: 1.1rem;
                padding: 20px 55px 20px 20px;
            }

            .info-section {
                padding: 30px 20px;
            }
        }

        /* Updated Today Widget Styles */
        .todays-updates-widget {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.05) 0%, rgba(0, 255, 163, 0.05) 100%);
            border: 1px solid var(--accent-cyan);
            border-radius: 8px;
            padding: 15px 20px;
            margin: 20px auto;
            max-width: 1200px;
            position: relative;
            z-index: 1;
        }

        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            border-bottom: 1px solid rgba(0, 212, 255, 0.3);
            padding-bottom: 10px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .widget-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-cyan);
            letter-spacing: 0.8px;
            text-transform: uppercase;
        }

        .widget-info {
            display: flex;
            gap: 15px;
            font-size: 0.7rem;
            color: var(--text-secondary);
            flex-wrap: wrap;
        }

        .widget-info-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .widget-info-label {
            opacity: 0.7;
        }

        .widget-info-value {
            color: var(--accent-green);
            font-weight: 700;
        }

        .ticker-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(85px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }

        .ticker-badge {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid var(--accent-cyan);
            border-radius: 5px;
            padding: 6px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.75rem;
            letter-spacing: 0.5px;
            display: block;
        }

        .ticker-badge:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: var(--accent-green);
            color: var(--accent-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 212, 255, 0.3);
        }

        .widget-footer {
            margin-top: 12px;
            padding-top: 10px;
            border-top: 1px solid rgba(0, 212, 255, 0.3);
            text-align: center;
            font-size: 0.65rem;
            color: var(--text-secondary);
        }

        .loading-shimmer {
            background: linear-gradient(90deg, rgba(0, 212, 255, 0.1) 0%, rgba(0, 212, 255, 0.3) 50%, rgba(0, 212, 255, 0.1) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        @media (max-width: 768px) {
            .todays-updates-widget {
                padding: 12px;
                margin: 15px;
            }

            .widget-title {
                font-size: 1rem;
            }

            .widget-header {
                flex-direction: column;
                align-items: flex-start;
                padding-bottom: 8px;
                margin-bottom: 10px;
            }

            .ticker-grid {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
                gap: 6px;
            }

            .ticker-badge {
                padding: 5px 8px;
                font-size: 0.7rem;
            }
        }

        /* Main layout with sidebar */
        .main-layout {
            display: flex;
            gap: 30px;
            width: 100%;
            margin: 0;
            align-items: flex-start;
            padding: 0 20px;
        }

        .sidebar-widgets {
            width: 350px;
            flex-shrink: 0;
        }

        .main-content {
            flex: 1;
            min-width: 0;
            max-width: 900px;
            margin: 0 auto;
        }

        /* Market Movers Widget */
        .market-movers-widget {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .widget-title-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border);
        }

        .widget-title-main {
            font-size: 1rem;
            font-weight: 700;
            color: var(--accent-cyan);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .widget-update-time {
            font-size: 0.65rem;
            color: var(--text-secondary);
        }

        .movers-categories {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
        }

        .category-tab {
            flex: 1;
            padding: 6px 8px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 5px;
            text-align: center;
            font-size: 0.7rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-secondary);
        }

        .category-tab.active {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            border-color: var(--accent-cyan);
        }

        .category-tab:hover:not(.active) {
            border-color: var(--accent-cyan);
        }

        .movers-list {
            display: none;
        }

        .movers-list.active {
            display: block;
        }

        .mover-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 8px;
            margin-bottom: 4px;
            background: var(--bg-secondary);
            border-radius: 5px;
            font-size: 0.75rem;
            transition: all 0.2s ease;
        }

        .mover-item:hover {
            background: rgba(0, 212, 255, 0.1);
            cursor: pointer;
        }

        .mover-ticker {
            font-weight: 700;
            color: var(--accent-cyan);
            min-width: 50px;
        }

        .mover-sector {
            flex: 1;
            font-size: 0.65rem;
            color: var(--text-secondary);
            margin: 0 8px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .mover-price {
            color: var(--text-primary);
            margin-right: 8px;
        }

        .mover-change {
            font-weight: 700;
            min-width: 55px;
            text-align: right;
        }

        .mover-change.positive {
            color: var(--accent-green);
        }

        .mover-change.negative {
            color: var(--accent-red);
        }

        .loading-spinner {
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        /* Earnings Calendar Widget */
        .earnings-widget {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 15px;
        }

        .earnings-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
        }

        .earnings-tab {
            flex: 1;
            padding: 6px 8px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 5px;
            text-align: center;
            font-size: 0.7rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-secondary);
        }

        .earnings-tab.active {
            background: var(--accent-green);
            color: var(--bg-primary);
            border-color: var(--accent-green);
        }

        .earnings-tab:hover:not(.active) {
            border-color: var(--accent-green);
        }

        .earnings-content {
            display: none;
        }

        .earnings-content.active {
            display: block;
        }

        .earnings-days {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 6px;
            overflow-x: auto;
        }

        .earnings-day-column {
            min-width: 0;
        }

        .day-header {
            font-size: 0.7rem;
            font-weight: 700;
            color: var(--accent-green);
            text-align: center;
            padding: 6px 4px;
            background: var(--bg-secondary);
            border-radius: 5px;
            margin-bottom: 6px;
        }

        .earnings-session {
            margin-bottom: 8px;
        }

        .session-label {
            font-size: 0.6rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin-bottom: 4px;
            font-weight: 600;
        }

        .earnings-ticker-item {
            padding: 4px 6px;
            background: var(--bg-secondary);
            border-radius: 4px;
            margin-bottom: 3px;
            font-size: 0.7rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .earnings-ticker-item:hover {
            background: rgba(0, 255, 163, 0.1);
        }

        .earnings-ticker {
            font-weight: 700;
            color: var(--accent-cyan);
        }

        .earnings-sector {
            font-size: 0.6rem;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .no-earnings {
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
            font-size: 0.75rem;
        }

        /* Mobile responsive */
        @media (max-width: 1024px) {
            .main-layout {
                flex-direction: column;
            }
            
            .sidebar-widgets {
                width: 100%;
            }
            
            .earnings-days {
                flex-direction: column;
            }
            
            .earnings-day-column {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Top navigation -->
        <nav class="top-nav">
            <a href="about.html" class="nav-link">About</a>
            <a href="#" class="nav-link yolo-link" id="randomButton">
                <span class="yolo-text">YOLO</span>
                <span class="random-text">Random Ticker</span>
            </a>
            <a href="patreon.html" class="nav-link patreon-link">Patreon</a>
        </nav>

        <header>
            <div class="logo-container">
                <img src="Quick_Tick_Logo.png" alt="Quick Tick AI Logo" class="logo">
            </div>
            <div class="subtitle">AI-Powered Analysis</div>
            <h1>Quick Tick</h1>
            <p class="tagline">Intelligent Investing. Instant Insights.</p>
        </header>

        <!-- Main Layout with Sidebar -->
        <div class="main-layout">
            <!-- Left Sidebar with Widgets -->
            <aside class="sidebar-widgets">
                <!-- Market Movers Widget -->
                <div class="market-movers-widget">
                    <div class="widget-title-bar">
                        <div class="widget-title-main">ðŸ“ˆ Market Movers</div>
                        <div class="widget-update-time" id="moversUpdateTime">Loading...</div>
                    </div>
                    
                    <div class="movers-categories">
                        <div class="category-tab active" data-category="gainers">Gainers</div>
                        <div class="category-tab" data-category="losers">Losers</div>
                        <div class="category-tab" data-category="active">Most Active</div>
                    </div>
                    
                    <div class="movers-list active" id="gainersList">
                        <div class="loading-spinner">Loading gainers...</div>
                    </div>
                    <div class="movers-list" id="losersList">
                        <div class="loading-spinner">Loading losers...</div>
                    </div>
                    <div class="movers-list" id="activeList">
                        <div class="loading-spinner">Loading most active...</div>
                    </div>
                </div>

                <!-- Earnings Calendar Widget -->
                <div class="earnings-widget">
                    <div class="widget-title-bar">
                        <div class="widget-title-main">ðŸ“Š Earnings Calendar</div>
                        <div class="widget-update-time" id="earningsUpdateTime">Loading...</div>
                    </div>
                    
                    <div class="earnings-tabs">
                        <div class="earnings-tab" data-week="last">Last Week</div>
                        <div class="earnings-tab active" data-week="this">This Week</div>
                        <div class="earnings-tab" data-week="next">Next Week</div>
                    </div>
                    
                    <div class="earnings-content" id="lastWeekContent">
                        <div class="loading-spinner">Loading last week...</div>
                    </div>
                    <div class="earnings-content active" id="thisWeekContent">
                        <div class="loading-spinner">Loading this week...</div>
                    </div>
                    <div class="earnings-content" id="nextWeekContent">
                        <div class="loading-spinner">Loading next week...</div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <div class="main-content">
                <div class="search-container">
            <div class="search-wrapper">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="AAPL"
                    autocomplete="off"
                    spellcheck="false"
                >
                <button class="search-button" id="searchButton" aria-label="Search">
                    <svg fill="none" viewBox="0 0 24 24">
                        <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <div class="error-message" id="errorMessage"></div>
            <div class="examples">
                <span class="examples-label">Mag7:</span>
                <div class="ticker-row">
                    <span class="example-ticker" data-ticker="AMZN">AMZN</span>
                    <span class="example-ticker" data-ticker="GOOG">GOOG</span>
                    <span class="example-ticker" data-ticker="MSFT">MSFT</span>
                    <span class="example-ticker" data-ticker="TSLA">TSLA</span>
                </div>
                <div class="ticker-row">
                    <span class="example-ticker" data-ticker="AAPL">AAPL</span>
                    <span class="example-ticker" data-ticker="META">META</span>
                    <span class="example-ticker" data-ticker="NVDA">NVDA</span>
                </div>
            </div>
        </div>

        <!-- Updated Today Widget -->
        <div class="todays-updates-widget" id="todaysUpdatesWidget">
            <div class="widget-header">
                <div class="widget-title">ðŸ“Š Updated Today</div>
                <div class="widget-info">
                    <div class="widget-info-item">
                        <span class="widget-info-label">Date:</span>
                        <span class="widget-info-value" id="updateDate">Loading...</span>
                    </div>
                    <div class="widget-info-item">
                        <span class="widget-info-label">Tickers:</span>
                        <span class="widget-info-value" id="tickerCount">--</span>
                    </div>
                </div>
            </div>

            <div class="ticker-grid" id="tickerGrid">
                <!-- Tickers will be loaded here -->
                <div class="ticker-badge loading-shimmer">Loading...</div>
            </div>

            <div class="widget-footer">
                Updated daily at 3:00 AM EST
            </div>
        </div>

        <div class="info-section">
            <h2>How It Works</h2>
            <p>Enter any US stock ticker symbol to access AI-generated analysis and insights about publicly traded companies. Each ticker is updated quarterly to provide you with comprehensive information. Please see the company page for dates of the most recent and next refresh.</p>
            
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">ðŸ¤–</div>
                    <h3>AI-Powered</h3>
                    <p>Advanced language models analyze and summarize key company information</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ðŸ“Š</div>
                    <h3>Comprehensive Data</h3>
                    <p>Business overview, financials, competitive landscape, and more</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ðŸ”„</div>
                    <h3>Regular Updates</h3>
                    <p>Database refreshed quarterly to keep information current</p>
                </div>
            </div>
        </div>
            </div><!-- Close main-content -->
        </div><!-- Close main-layout -->

        <footer>
            <p>Quick Tick &copy; 2026 | Data updated quarterly</p>
            <p style="margin-top: 10px; font-size: 0.85rem;">
                <a href="about.html" style="color: var(--accent-cyan); text-decoration: none;">About</a> | 
                <a href="patreon.html" style="color: var(--accent-cyan); text-decoration: none;">Support Us</a> | 
                <a href="disclaimer.html" style="color: var(--accent-cyan); text-decoration: none;">Disclaimer</a>
            </p>
        </footer>
    </div>

    <script>
        // ============================================
        // WIDGETS: MARKET MOVERS & EARNINGS CALENDAR
        // ============================================
        
        // API Keys - REPLACE WITH YOUR ACTUAL KEYS
        const ALPHA_VANTAGE_KEY = 'YOUR_ALPHA_VANTAGE_KEY';
        const FINNHUB_KEY = 'YOUR_FINNHUB_KEY';

        // ============================================
        // MARKET MOVERS WIDGET
        // ============================================

        let companyLookup = {};
        let marketMoversCache = null;

        // Load company lookup JSON
        async function loadCompanyLookup() {
            try {
                console.log('Loading company_lookup.json...');
                const response = await fetch('company_lookup.json');
                
                if (!response.ok) {
                    console.error('Failed to load company_lookup.json:', response.status);
                    return;
                }
                
                companyLookup = await response.json();
                const tickerCount = Object.keys(companyLookup).length;
                console.log(`Loaded ${tickerCount} companies from database`);
                
                if (tickerCount === 0) {
                    console.error('WARNING: company_lookup.json is empty!');
                }
            } catch (error) {
                console.error('Error loading company lookup:', error);
            }
        }

        // Check if cache is valid (1 hour)
        function isMarketMoversCacheValid() {
            if (!marketMoversCache) return false;
            const now = Date.now();
            const oneHour = 60 * 60 * 1000;
            return (now - marketMoversCache.timestamp) < oneHour;
        }

        // Fetch market movers from Alpha Vantage
        async function fetchMarketMovers() {
            try {
                const response = await fetch(
                    `https://www.alphavantage.co/query?function=TOP_GAINERS_LOSERS&apikey=${ALPHA_VANTAGE_KEY}`
                );
                const data = await response.json();
                
                if (data.top_gainers && data.top_losers && data.most_actively_traded) {
                    const gainers = filterOurTickers(data.top_gainers);
                    const losers = filterOurTickers(data.top_losers);
                    const active = filterOurTickers(data.most_actively_traded);
                    
                    marketMoversCache = {
                        gainers: gainers.slice(0, 20),
                        losers: losers.slice(0, 20),
                        active: active.slice(0, 20),
                        timestamp: Date.now()
                    };
                    
                    localStorage.setItem('marketMoversCache', JSON.stringify(marketMoversCache));
                    return marketMoversCache;
                }
            } catch (error) {
                console.error('Error fetching market movers:', error);
                return null;
            }
        }

        // Filter tickers to only include ones in our database
        function filterOurTickers(tickers) {
            return tickers.filter(ticker => companyLookup[ticker.ticker]);
        }

        // Render market movers
        function renderMarketMovers(data) {
            const { gainers, losers, active } = data;
            
            renderMoversList('gainersList', gainers);
            renderMoversList('losersList', losers);
            renderMoversList('activeList', active);
            
            const updateTime = new Date().toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit' 
            });
            document.getElementById('moversUpdateTime').textContent = `Updated ${updateTime}`;
        }

        // Render individual mover list
        function renderMoversList(listId, tickers) {
            const list = document.getElementById(listId);
            
            if (!tickers || tickers.length === 0) {
                list.innerHTML = '<div class="no-earnings">No data available</div>';
                return;
            }
            
            list.innerHTML = tickers.map(ticker => {
                const company = companyLookup[ticker.ticker];
                const sector = company ? company.sector : 'N/A';
                const changePercent = parseFloat(ticker.change_percentage.replace('%', ''));
                const changeClass = changePercent >= 0 ? 'positive' : 'negative';
                
                return `
                    <div class="mover-item" onclick="window.location.href='company.html?ticker=${ticker.ticker}'">
                        <div class="mover-ticker">${ticker.ticker}</div>
                        <div class="mover-sector">${sector}</div>
                        <div class="mover-price">$${parseFloat(ticker.price).toFixed(2)}</div>
                        <div class="mover-change ${changeClass}">${ticker.change_percentage}</div>
                    </div>
                `;
            }).join('');
        }

        // Initialize market movers
        async function initMarketMovers() {
            await loadCompanyLookup();
            
            const cachedData = localStorage.getItem('marketMoversCache');
            if (cachedData) {
                marketMoversCache = JSON.parse(cachedData);
                if (isMarketMoversCacheValid()) {
                    renderMarketMovers(marketMoversCache);
                    return;
                }
            }
            
            const data = await fetchMarketMovers();
            if (data) {
                renderMarketMovers(data);
            }
        }

        // Category tab switching
        document.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.movers-list').forEach(l => l.classList.remove('active'));
                
                this.classList.add('active');
                const category = this.dataset.category;
                document.getElementById(`${category}List`).classList.add('active');
            });
        });

        // ============================================
        // EARNINGS CALENDAR WIDGET
        // ============================================

        let earningsCache = null;

        // Check if earnings cache is valid (until next Sunday 1 AM EST)
        function isEarningsCacheValid() {
            if (!earningsCache) return false;
            
            const now = new Date();
            const cacheDate = new Date(earningsCache.timestamp);
            
            const nextSunday = new Date(cacheDate);
            nextSunday.setDate(cacheDate.getDate() + ((7 - cacheDate.getDay()) % 7 || 7));
            nextSunday.setHours(6, 0, 0, 0); // 1 AM EST = 6 AM UTC (EST is UTC-5)
            
            return now < nextSunday;
        }

        // Get date ranges for last, this, and next week
        function getWeekRanges() {
            const now = new Date();
            const dayOfWeek = now.getDay();
            
            const thisWeekStart = new Date(now);
            thisWeekStart.setDate(now.getDate() - dayOfWeek);
            thisWeekStart.setHours(0, 0, 0, 0);
            
            const thisWeekEnd = new Date(thisWeekStart);
            thisWeekEnd.setDate(thisWeekStart.getDate() + 6);
            thisWeekEnd.setHours(23, 59, 59, 999);
            
            const lastWeekStart = new Date(thisWeekStart);
            lastWeekStart.setDate(thisWeekStart.getDate() - 7);
            
            const lastWeekEnd = new Date(thisWeekStart);
            lastWeekEnd.setDate(thisWeekStart.getDate() - 1);
            
            const nextWeekStart = new Date(thisWeekEnd);
            nextWeekStart.setDate(thisWeekEnd.getDate() + 1);
            
            const nextWeekEnd = new Date(nextWeekStart);
            nextWeekEnd.setDate(nextWeekStart.getDate() + 6);
            
            return {
                lastWeek: { from: formatDate(lastWeekStart), to: formatDate(lastWeekEnd) },
                thisWeek: { from: formatDate(thisWeekStart), to: formatDate(thisWeekEnd) },
                nextWeek: { from: formatDate(nextWeekStart), to: formatDate(nextWeekEnd) }
            };
        }

        function formatDate(date) {
            return date.toISOString().split('T')[0];
        }

        // Fetch earnings from Finnhub
        async function fetchEarnings() {
            try {
                const ranges = getWeekRanges();
                
                const [lastWeekData, thisWeekData, nextWeekData] = await Promise.all([
                    fetchEarningsForRange(ranges.lastWeek.from, ranges.lastWeek.to),
                    fetchEarningsForRange(ranges.thisWeek.from, ranges.thisWeek.to),
                    fetchEarningsForRange(ranges.nextWeek.from, ranges.nextWeek.to)
                ]);
                
                earningsCache = {
                    lastWeek: lastWeekData,
                    thisWeek: thisWeekData,
                    nextWeek: nextWeekData,
                    timestamp: Date.now()
                };
                
                localStorage.setItem('earningsCache', JSON.stringify(earningsCache));
                return earningsCache;
            } catch (error) {
                console.error('Error fetching earnings:', error);
                return null;
            }
        }

        // Fetch earnings for specific date range
        async function fetchEarningsForRange(from, to) {
            try {
                console.log(`Fetching earnings from ${from} to ${to}...`);
                
                const response = await fetch(
                    `https://finnhub.io/api/v1/calendar/earnings?from=${from}&to=${to}&token=${FINNHUB_KEY}`
                );
                
                if (!response.ok) {
                    console.error(`API Error: ${response.status} ${response.statusText}`);
                    return organizeEarningsByDay([]);
                }
                
                const data = await response.json();
                console.log('API Response:', data);
                
                if (!data.earningsCalendar) {
                    console.error('No earningsCalendar in response:', data);
                    return organizeEarningsByDay([]);
                }
                
                // Filter to only tickers we have in our database
                const allEarnings = data.earningsCalendar || [];
                console.log(`Total earnings from API: ${allEarnings.length}`);
                
                const ourEarnings = allEarnings.filter(e => {
                    const hasCompany = companyLookup[e.symbol];
                    return hasCompany;
                });
                
                console.log(`Earnings in our database: ${ourEarnings.length}`);
                if (ourEarnings.length > 0) {
                    console.log('Sample earnings:', ourEarnings.slice(0, 5).map(e => e.symbol));
                }
                
                return organizeEarningsByDay(ourEarnings);
            } catch (error) {
                console.error('Error fetching earnings:', error);
                return organizeEarningsByDay([]);
            }
        }

        // Organize earnings by day of week and session
        function organizeEarningsByDay(earnings) {
            const days = {
                'Mon': { bmo: [], amc: [] },
                'Tue': { bmo: [], amc: [] },
                'Wed': { bmo: [], amc: [] },
                'Thu': { bmo: [], amc: [] },
                'Fri': { bmo: [], amc: [] }
            };
            
            earnings.forEach(earning => {
                const date = new Date(earning.date);
                const dayName = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][date.getDay()];
                
                if (days[dayName]) {
                    const session = earning.hour === 'bmo' ? 'bmo' : 'amc';
                    days[dayName][session].push(earning);
                }
            });
            
            return days;
        }

        // Render earnings calendar
        function renderEarnings(data) {
            renderWeekEarnings('lastWeekContent', data.lastWeek);
            renderWeekEarnings('thisWeekContent', data.thisWeek);
            renderWeekEarnings('nextWeekContent', data.nextWeek);
            
            const updateTime = new Date().toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric' 
            });
            document.getElementById('earningsUpdateTime').textContent = `Week of ${updateTime}`;
        }

        // Render a specific week's earnings
        function renderWeekEarnings(contentId, weekData) {
            const content = document.getElementById(contentId);
            
            if (!weekData) {
                content.innerHTML = '<div class="no-earnings">Error loading earnings</div>';
                return;
            }
            
            const hasAnyEarnings = Object.values(weekData).some(day => 
                day.bmo.length > 0 || day.amc.length > 0
            );
            
            if (!hasAnyEarnings) {
                content.innerHTML = '<div class="no-earnings">No earnings this week</div>';
                return;
            }
            
            // Always show all 5 days in order
            const orderedDays = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];
            
            const daysHTML = orderedDays.map(day => {
                const sessions = weekData[day];
                
                // Show day even if empty
                if (!sessions || (sessions.bmo.length === 0 && sessions.amc.length === 0)) {
                    return `
                        <div class="earnings-day-column">
                            <div class="day-header">${day}</div>
                            <div class="no-earnings" style="padding: 10px; font-size: 0.65rem;">No earnings</div>
                        </div>
                    `;
                }
                
                return `
                    <div class="earnings-day-column">
                        <div class="day-header">${day}</div>
                        ${sessions.bmo.length > 0 ? `
                            <div class="earnings-session">
                                <div class="session-label">Before Open</div>
                                ${sessions.bmo.map(e => renderEarningsTicker(e)).join('')}
                            </div>
                        ` : ''}
                        ${sessions.amc.length > 0 ? `
                            <div class="earnings-session">
                                <div class="session-label">After Close</div>
                                ${sessions.amc.map(e => renderEarningsTicker(e)).join('')}
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
            
            content.innerHTML = `<div class="earnings-days">${daysHTML}</div>`;
        }

        // Render individual earnings ticker
        function renderEarningsTicker(earning) {
            const company = companyLookup[earning.symbol];
            
            // Double-check: Only render if we have this company in our database
            if (!company) {
                console.warn(`Skipping ${earning.symbol} - not in our database`);
                return '';
            }
            
            const sector = company.sector || 'N/A';
            
            return `
                <div class="earnings-ticker-item" onclick="window.location.href='company.html?ticker=${earning.symbol}'">
                    <div class="earnings-ticker">${earning.symbol}</div>
                    <div class="earnings-sector">${sector}</div>
                </div>
            `;
        }

        // Initialize earnings calendar
        async function initEarnings() {
            const cachedData = localStorage.getItem('earningsCache');
            if (cachedData) {
                earningsCache = JSON.parse(cachedData);
                if (isEarningsCacheValid()) {
                    renderEarnings(earningsCache);
                    return;
                }
            }
            
            const data = await fetchEarnings();
            if (data) {
                renderEarnings(data);
            }
        }

        // Earnings tab switching
        document.querySelectorAll('.earnings-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.earnings-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.earnings-content').forEach(c => c.classList.remove('active'));
                
                this.classList.add('active');
                const week = this.dataset.week;
                document.getElementById(`${week}WeekContent`).classList.add('active');
            });
        });

        // Initialize both widgets on page load
        document.addEventListener('DOMContentLoaded', function() {
            initMarketMovers();
            initEarnings();
        });

        // ============================================
        // EXISTING SEARCH & NAVIGATION CODE
        // ============================================

        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const errorMessage = document.getElementById('errorMessage');

        function performSearch() {
            const ticker = searchInput.value.trim().toUpperCase();
            
            if (!ticker) {
                showError('Please enter a ticker symbol');
                return;
            }

            // Basic ticker validation (1-5 letters)
            if (!/^[A-Z]{1,5}$/.test(ticker)) {
                showError('Please enter a valid ticker symbol (1-5 letters)');
                return;
            }

            // Redirect to company page
            window.location.href = `company.html?ticker=${ticker}`;
        }

        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
            setTimeout(() => {
                errorMessage.style.display = 'none';
            }, 3000);
        }

        searchButton.addEventListener('click', performSearch);
        
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // Example ticker clicks
        document.querySelectorAll('.example-ticker').forEach(ticker => {
            ticker.addEventListener('click', (e) => {
                const tickerValue = e.target.getAttribute('data-ticker');
                searchInput.value = tickerValue;
                performSearch();
            });
        });

        // Auto-uppercase input
        searchInput.addEventListener('input', (e) => {
            e.target.value = e.target.value.toUpperCase();
        });

        // Random ticker button (YOLO)
        const randomButton = document.getElementById('randomButton');
        randomButton.addEventListener('click', async (e) => {
            e.preventDefault();
            
            try {
                // Fetch the company lookup JSON
                const response = await fetch('company_lookup.json');
                const companies = await response.json();
                
                // Get all ticker symbols
                const tickers = Object.keys(companies);
                
                // Select a random ticker
                const randomIndex = Math.floor(Math.random() * tickers.length);
                const randomTicker = tickers[randomIndex];
                
                // Redirect to the random company page
                window.location.href = `company.html?ticker=${randomTicker}`;
            } catch (error) {
                console.error('Error loading random ticker:', error);
                showError('Unable to load random ticker. Please try searching manually.');
            }
        });

        // Updated Today Widget JavaScript
        async function loadTodaysTickers() {
            try {
                // Check cache first (expires at midnight)
                const cacheKey = 'todays_tickers';
                const cached = localStorage.getItem(cacheKey);
                
                if (cached) {
                    const data = JSON.parse(cached);
                    const cacheDate = new Date(data.timestamp);
                    const now = new Date();
                    
                    // Check if cache is from today
                    if (cacheDate.toDateString() === now.toDateString()) {
                        renderTickers(data.tickers);
                        return;
                    }
                }

                // Fetch fresh data
                const response = await fetch('todays_tickers.json');
                if (!response.ok) throw new Error('Failed to load tickers');
                
                const data = await response.json();
                
                // Cache with timestamp
                localStorage.setItem(cacheKey, JSON.stringify({
                    timestamp: new Date().toISOString(),
                    tickers: data
                }));
                
                renderTickers(data);
                
            } catch (error) {
                console.error('Error loading todays tickers:', error);
                document.getElementById('tickerGrid').innerHTML = 
                    '<div style="grid-column: 1/-1; text-align: center; color: var(--accent-red);">Error loading tickers</div>';
            }
        }

        function renderTickers(data) {
            // Update header info
            document.getElementById('updateDate').textContent = data.date;
            document.getElementById('tickerCount').textContent = data.count;
            
            // Render ticker badges
            const grid = document.getElementById('tickerGrid');
            grid.innerHTML = data.tickers.map(ticker => `
                <a href="company.html?ticker=${ticker}" class="ticker-badge" title="View ${ticker} analysis">
                    ${ticker}
                </a>
            `).join('');
        }

        // Load on page load
        loadTodaysTickers();

        // Auto-refresh at midnight
        function scheduleNextRefresh() {
            const now = new Date();
            const tomorrow = new Date(now);
            tomorrow.setDate(tomorrow.getDate() + 1);
            tomorrow.setHours(0, 0, 0, 0);
            
            const timeUntilMidnight = tomorrow - now;
            
            setTimeout(() => {
                loadTodaysTickers();
                scheduleNextRefresh(); // Schedule next day
            }, timeUntilMidnight);
        }

        scheduleNextRefresh();
    </script>
</body>
</html>
